<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pyBlock</title>
    <link href='/StylesPages/DashboardStyle.css' rel='stylesheet'>
    <style>
        /* Additional styles for settings */
        .dark-mode { background-color: #121212b3; color: #f0f0f0; }
        .high-contrast { color: black; background-color: rgba(242, 0, 255, 0.428); }
    </style>
</head>    
<body>
<!-- NAV BAR START -->
<header class="navigation" role="banner">
    <nav aria-label="Main Navigation">
        <!-- Logo -->
        <ul class="navbar_logo">
            <li>
                <a href="/api/home">
                    <img class="logo" src="/ImagesUsed/pyBlocks_Updated.png" alt="PyBlocks logo, linking back to home page">
                </a>
            </li>
        </ul>

        <!-- Navigation Buttons -->
        <ul class="navbar_buttons_list">
            <li><a href="#contact"><button class="Nav_Buttons" aria-disabled="true">Contact Us</button></a></li>
            <li><a href="#tutorials"><button class="Nav_Buttons" aria-disabled="true">Tutorials</button></a></li>
            <li><a href="/api/play"><button class="Nav_Buttons">Play</button></a></li>
            <li><a href="#courses"><button class="Nav_Buttons" aria-disabled="true">Courses</button></a></li>
            <li><a href="DashboardPage.ejs"><button class="Nav_Buttons">Resources</button></a></li>
            <li><a href="/api/login"><button class="Nav_Buttons">Sign In</button></a></li>
            <li><a href="/api/register"><button class="Nav_Buttons">Register</button></a></li>
        </ul>

        <!-- Settings Icon -->
        <ul class="Settings_logo">
            <li>
                <a href="/api/settings">
                    <img class="Settings_logo" src="/ImagesUsed/SettingsIcon.png" alt="Settings logo, linking to settings page">
                </a>
            </li>
        </ul>
    </nav>
</header>
<!-- NAV BAR END -->

<!-- BODY START -->
<section class="dashboard">
    <div class="dash_header">
        <div class="Profile_Options_with_menu">
            <a href="#" class="Profile_Options">
                <div class="First_Line"></div>
                <div class="Second_Line"></div>
                <div class="Third_Line"></div>
            </a>
            <div class="off_screen_menu" id="menu">
                <ul>
                    <li><a href="#Account_Details" aria-label="Account Details page (Coming soon)">Account Details</a></li>
                    <li>
                        <form action="/api/logout" method="POST">
                            <button class = "logout_button" type="submit" class="logout-btn">Logout</button>
                        </form>
                    </li>
                    <li><a href="#Delete Account">Delete Account</a></li>
                </ul>
            </div>
        </div>
        <div class="text_content">
            <% if (user) { %>
                <h1>Welcome, <%= user %>!</h1>
            <% } %>
            <p>Your Progress So Far!</p>
        </div>
    </div>
    

    <div class="dashboard-container">
        <!-- Tutorials Section -->
        <div class="dashboard-item" id="tutorials">
            <div class="item-icon tutorial-icon"></div>
            <h2>Tutorials</h2>
            <p>Lessons to practice with block and text coding with Python!</p>
            <button class="dashboard-button">Let's Go!</button>
        </div>

        <!-- Projects Section -->
        <div class="dashboard-item" id="projects">
            <div class="item-icon project-icon"></div>
            <h2>Projects</h2>
            <p>Project guides to get you used to block and text coding with Python!</p>
            <button class="dashboard-button">Let's Go!</button>
        </div>
    </div>
</section>
<!-- BODY END -->

<!-- FOOTER START -->
<footer role="contentinfo">
    <!-- Logo -->
    <ul class="navbar_logo">
        <li>
            <a href="/api/home">
                <img class="logo" src="/ImagesUsed/pyBlocks_Updated.png" alt="PyBlocks logo, linking back to home page">
            </a>
        </li>
    </ul>

    <!-- Footer Links -->
    <ul class="footer_buttons">
        <li><a href="#resources">Resources</a></li>
        <li><a href="#tutorials">Tutorials</a></li>
        <li><a href="#editors">Open Blank Editors</a></li>
    </ul>
</footer>
<!-- FOOTER END -->
<script>
    // Load saved settings on page load
    window.onload = function () {
        const isDarkMode = localStorage.getItem('darkMode') === 'true';
        const isHighContrast = localStorage.getItem('highContrast') === 'true';
        const savedFontSize = localStorage.getItem('fontSize') || 14;
  
        // Apply dark mode
        if (isDarkMode) document.body.classList.add('dark-mode');
  
        // Apply high contrast mode
        if (isHighContrast) document.body.classList.add('high-contrast');
  
        // Apply font size
        document.body.style.fontSize = savedFontSize + 'px';
    };
  </script>
</body>
</html>
